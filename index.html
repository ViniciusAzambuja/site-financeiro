<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Cadastro Financeiro</title>
</head>
<body>
  <h2>Lançar novo item</h2>

  <form id="form">
    <label>Data:</label><br>
    <input type="date" name="data" required><br><br>

    <label>Item:</label><br>
    <input type="text" name="item" required><br><br>

    <label>Forma de pagamento:</label><br>
    <input type="text" name="forma_pagamento" required><br><br>

    <label>Valor parcela:</label><br>
    <input type="number" step="0.01" name="valor_parcela" required><br><br>

    <label>Vencimento cartão:</label><br>
    <input type="date" name="vencimento" required><br><br>

    <label>Titular:</label><br>
    <select name="titular">
      <option>Mateus</option>
      <option>Renata</option>
      <option>Vinicius</option>
      <option>Julia</option>
    </select><br><br>

    <button type="submit">Salvar</button>
  </form>

  <script>
    const API_URL = "https://script.google.com/macros/s/AKfycbyhbAefyVZvdBkyuz26KsibSx_noWdFYItkKoHdzI_blfiX3i2mq-lxShlp8cavcTc9uQ/exec";

    document.getElementById("form").addEventListener("submit", async (e) => {
      e.preventDefault();

      const data = Object.fromEntries(new FormData(e.target));

      const res = await fetch(API_URL, {
        method: "POST",
        body: JSON.stringify(data),
        headers: { "Content-Type": "application/json" }
      });

      const result = await res.json();

      if (result.status === "OK") {
        alert("Salvo com sucesso!");
        e.target.reset();
      } else {
        alert("Erro ao salvar.");
      }
    });
  </script>
</body>
</html>
